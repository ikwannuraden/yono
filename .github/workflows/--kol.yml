name: Run

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [1000 1002,1002 1004,1004 1006,1006 1008,1008 1010,1010 1012,1012 1014,1014 1016,1016 1018,1018 1020,1020 1022,1022 1024,1024 1026,1026 1028,1028 1030,1030 1032,1032 1034,1034 1036,1036 1038,1038 1040,1040 1042,1042 1044,1044 1046,1046 1048,1048 1050,1050 1052,1052 1054,1054 1056,1056 1058,1058 1060,1060 1062,1062 1064,1064 1066,1066 1068,1068 1070,1070 1072,1072 1074,1074 1076,1076 1078,1078 1080,1080 1082,1082 1084,1084 1086,1086 1088,1088 1090,1090 1092,1092 1094,1094 1096,1096 1098,1098 1100,1100 1102,1102 1104,1104 1106,1106 1108,1108 1110,1110 1112,1112 1114,1114 1116,1116 1118,1118 1120,1120 1122,1122 1124,1124 1126,1126 1128,1128 1130,1130 1132,1132 1134,1134 1136,1136 1138,1138 1140,1140 1142,1142 1144,1144 1146,1146 1148,1148 1150,1150 1152,1152 1154,1154 1156,1156 1158,1158 1160,1160 1162,1162 1164,1164 1166,1166 1168,1168 1170,1170 1172,1172 1174,1174 1176,1176 1178,1178 1180,1180 1182,1182 1184,1184 1186,1186 1188,1188 1190,1190 1192,1192 1194,1194 1196,1196 1198,1198 1200,1200 1202,1202 1204,1204 1206,1206 1208,1208 1210,1210 1212,1212 1214,1214 1216,1216 1218,1218 1220,1220 1222,1222 1224,1224 1226,1226 1228,1228 1230,1230 1232,1232 1234,1234 1236,1236 1238,1238 1240,1240 1242,1242 1244,1244 1246,1246 1248,1248 1250,1250 1252,1252 1254,1254 1256,1256 1258,1258 1260,1260 1262,1262 1264,1264 1266,1266 1268,1268 1270,1270 1272,1272 1274,1274 1276,1276 1278,1278 1280,1280 1282,1282 1284,1284 1286,1286 1288,1288 1290,1290 1292,1292 1294,1294 1296,1296 1298,1298 1300,1300 1302,1302 1304,1304 1306,1306 1308,1308 1310,1310 1312,1312 1314,1314 1316,1316 1318,1318 1320,1320 1322,1322 1324,1324 1326,1326 1328,1328 1330,1330 1332,1332 1334,1334 1336,1336 1338,1338 1340,1340 1342,1342 1344,1344 1346,1346 1348,1348 1350,1350 1352,1352 1354,1354 1356,1356 1358,1358 1360,1360 1362,1362 1364,1364 1366,1366 1368,1368 1370,1370 1372,1372 1374,1374 1376,1376 1378,1378 1380,1380 1382,1382 1384,1384 1386,1386 1388,1388 1390,1390 1392,1392 1394,1394 1396,1396 1398,1398 1400,1400 1402,1402 1404,1404 1406,1406 1408,1408 1410,1410 1412,1412 1414,1414 1416,1416 1418,1418 1420,1420 1422,1422 1424,1424 1426,1426 1428,1428 1430,1430 1432,1432 1434,1434 1436,1436 1438,1438 1440,1440 1442,1442 1444,1444 1446,1446 1448,1448 1450,1450 1452,1452 1454,1454 1456,1456 1458,1458 1460,1460 1462,1462 1464,1464 1466,1466 1468,1468 1470,1470 1472,1472 1474,1474 1476,1476 1478,1478 1480,1480 1482,1482 1484,1484 1486,1486 1488,1488 1490,1490 1492,1492 1494,1494 1496,1496 1498,1498 1500]
    steps:
      - uses: actions/checkout@v4
      - name: Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: 3.12
      - name: Install
        run: |
          python -m pip install --upgrade pip wheel setuptools
          python -m pip install seleniumbase==4.27.0
          python -m pip install supabase
          sudo apt install -y google-chrome-stable
          seleniumbase install chromedriver
          sudo apt install -y xvfb
          export DISPLAY=:0
          /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
          sleep 5
          xvfb-run python run-t-kw.py ${{matrix.RangeIndex}}
      - name: done
        run: exit
