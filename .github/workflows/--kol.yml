name: Run

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [2000 2005,2005 2010,2010 2015,2015 2020,2020 2025,2025 2030,2030 2035,2035 2040,2040 2045,2045 2050,2050 2055,2055 2060,2060 2065,2065 2070,2070 2075,2075 2080,2080 2085,2085 2090,2090 2095,2095 2100,2100 2105,2105 2110,2110 2115,2115 2120,2120 2125,2125 2130,2130 2135,2135 2140,2140 2145,2145 2150,2150 2155,2155 2160,2160 2165,2165 2170,2170 2175,2175 2180,2180 2185,2185 2190,2190 2195,2195 2200,2200 2205,2205 2210,2210 2215,2215 2220,2220 2225,2225 2230,2230 2235,2235 2240,2240 2245,2245 2250,2250 2255,2255 2260,2260 2265,2265 2270,2270 2275,2275 2280,2280 2285,2285 2290,2290 2295,2295 2300,2300 2305,2305 2310,2310 2315,2315 2320,2320 2325,2325 2330,2330 2335,2335 2340,2340 2345,2345 2350,2350 2355,2355 2360,2360 2365,2365 2370,2370 2375,2375 2380,2380 2385,2385 2390,2390 2395,2395 2400,2400 2405,2405 2410,2410 2415,2415 2420,2420 2425,2425 2430,2430 2435,2435 2440,2440 2445,2445 2450,2450 2455,2455 2460,2460 2465,2465 2470,2470 2475,2475 2480,2480 2485,2485 2490,2490 2495,2495 2500,2500 2505,2505 2510,2510 2515,2515 2520,2520 2525,2525 2530,2530 2535,2535 2540,2540 2545,2545 2550,2550 2555,2555 2560,2560 2565,2565 2570,2570 2575,2575 2580,2580 2585,2585 2590,2590 2595,2595 2600,2600 2605,2605 2610,2610 2615,2615 2620,2620 2625,2625 2630,2630 2635,2635 2640,2640 2645,2645 2650,2650 2655,2655 2660,2660 2665,2665 2670,2670 2675,2675 2680,2680 2685,2685 2690,2690 2695,2695 2700,2700 2705,2705 2710,2710 2715,2715 2720,2720 2725,2725 2730,2730 2735,2735 2740,2740 2745,2745 2750,2750 2755,2755 2760,2760 2765,2765 2770,2770 2775,2775 2780,2780 2785,2785 2790,2790 2795,2795 2800,2800 2805,2805 2810,2810 2815,2815 2820,2820 2825,2825 2830,2830 2835,2835 2840,2840 2845,2845 2850,2850 2855,2855 2860,2860 2865,2865 2870,2870 2875,2875 2880,2880 2885,2885 2890,2890 2895,2895 2900,2900 2905,2905 2910,2910 2915,2915 2920,2920 2925,2925 2930,2930 2935,2935 2940,2940 2945,2945 2950,2950 2955,2955 2960,2960 2965,2965 2970,2970 2975,2975 2980,2980 2985,2985 2990,2990 2995,2995 3000]
    steps:
      - uses: actions/checkout@v4
      - name: Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: 3.12
      - name: Install
        run: |
          python -m pip install --upgrade pip wheel setuptools
          python -m pip install seleniumbase==4.27.0
          python -m pip install supabase
          python -m pip install requests
          sudo apt install -y google-chrome-stable
          seleniumbase install chromedriver
          sudo apt install -y xvfb
      - name: Run
        run: |
          export DISPLAY=:0
          /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
          sleep 5
          xvfb-run python run-t-kw.py ${{matrix.RangeIndex}}
      - name: done
        run: exit
